# Cache downloaded dependencies and plugins between builds.
# Not strictly necessary, but speeds up the builds.
cache:
  key: "$CI_JOB_NAME"
  paths:
    - .m2/repository
variables:
  # Use the cached directory above.
  MAVEN_OPTS: "-Dmaven.repo.local=.m2/repository"

junit:
  image: usommerl/maven-javafx # docker image with Maven + JavaFX
  # alternative: use image: maven and 'apt install openjfx' in
  # before_script.
  before_script:
    # The runners on the forge need a proxy to access the web. mvn
    # ignores the $http_proxy & friends variable => write a
    # configuration file that does this for us.
    - lab2/poneymon_fx/setup-mvn-proxy.sh
    # Useful only for debugging
    - cat ~/.m2/settings.xml
  script:
    - echo "Continuous integration not set up"; exit 1
